<!doctype html>

<html>
  <head>
  <style>
    #ground {
      text-align: center;
    }
  </style>
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">

	  // var socket = io.connect('http://localhost:8124');
	  // var socket = io.connect('http://10.10.1.95:8124');
	  var socket = io.connect('http://10.10.2.150:8124');

	  <!-- Connect is built in -->
	  socket.on('connect', function(){
	  	socket.emit('start', prompt('Enter player name'));
	  });
	  
	  socket.on('announce', function(data) {
	  <!-- Set callback data to an element. -->
	  	document.getElementById("broadcast").innerHTML=data;
	  });

	  socket.on('redraw', function(map) {
	  <!-- Set callback movement to an element. -->
	  	document.getElementById("ground").innerHTML="<pre>" + map + "</pre>";
	  });

	  <!-- Called on key up -->
      updateCode = function(e) {
	    var dir = [];
	    dir[37] = 'left';
	    dir[38] = 'up';
	    dir[39] = 'right';
	    dir[40] = 'down';

	    <!-- var text = document.getElementById('ground').value; -->
    	socket.emit('move', dir[e.keyCode]);
      };

	</script>
  </head>

  <body onkeyup="updateCode(event)">
	<div id="broadcast" ></div>
	<div id="ground" ></div>
  </body>

</html>
